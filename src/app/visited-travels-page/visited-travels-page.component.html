<section>
  <app-searchbar (onSearch)="updateSearchText($event)" />
</section>

<div class="filters-bar">
  <div class="filter-control">
    <label for="countryFilter">Paese</label>
    <select
      id="countryFilter"
      #countrySelect
      [value]="selectedCountry()"
      (change)="selectedCountry.set(countrySelect.value)"
    >
      <option value="">Tutti</option>
      <option>Italia</option>
      <option>Francia</option>
      <option>Giappone</option>
      <option>Stati Uniti</option>
      <option>Regno Unito</option>
      <option>Germania</option>
      <option>Spagna</option>
      <option>Portogallo</option>
      <option>Grecia</option>
      <option>Australia</option>
      <option>Canada</option>
    </select>
  </div>

  <div class="filter-control">
    <label for="yearFilter">Anno</label>
    <select
      id="yearFilter"
      #yearSelect
      [value]="selectedYear()"
      (change)="selectedYear.set(yearSelect.value)"
    >
      <option value="">Tutti</option>
      <option>2025</option>
      <option>2024</option>
      <option>2023</option>
      <option>2022</option>
      <option>2021</option>
      <option>2020</option>
      <option>2019</option>
      <option>2018</option>
      <option>2017</option>
      <option>2016</option>
      <option>2015</option>
      <option>2014</option>
      <option>2013</option>
      <option>2012</option>
      <option>2011</option>
      <option>2010</option>
      <option>2009</option>
      <option>2008</option>
      <option>2007</option>
      <option>2006</option>
    </select>
  </div>

  <div class="filter-control">
    <label for="ratingFilter">Rating</label>
    <select
      id="ratingFilter"
      #ratingSelect
      [value]="selectedRaiting()"
      (change)="selectedRaiting.set(ratingSelect.value)"
    >
      <option value="">Tutti</option>
      <option value="5">‚≠ê 5</option>
      <option value="4.5">‚≠ê 4.5+</option>
      <option value="4">‚≠ê 4+</option>
      <option value="3.5">‚≠ê 3.5+</option>
    </select>
  </div>
</div>

@if (loading()) {
<p class="loading-text">Caricamento in corso...</p>
} @else { @if (filteredTravels().length === 0) {
<p class="empty-text">
  üåç Non hai ancora visto nulla @if (selectedCountry()) { di questo paese ({{ selectedCountry() }})
  } @else { con questi filtri }
</p>
} @else {
<div class="travels-grid">
  @for (travel of filteredTravels(); track travel.id) {
  <app-visited-travels [travel]="travel"></app-visited-travels>
  }
</div>
<button class="buttonArrow" (click)="increaseCounter()">‚û§</button>
} }
